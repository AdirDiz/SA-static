document.addEventListener("DOMContentLoaded",()=>{const staticElements=document.querySelectorAll('[sa-static]'),staticMap=Array.from(staticElements).reduce((map,el)=>{const staticValue=el.getAttribute('sa-static');map[staticValue]=el;return map},{}),paragraphs=document.querySelectorAll('p');paragraphs.forEach(paragraph=>{const regex=/\[sa-([a-zA-Z0-9_-]+)\]/g;let match,hasReplacements=false,newContent=document.createDocumentFragment(),lastIndex=0;while((match=regex.exec(paragraph.textContent))!==null){const staticValue=match[1],matchStart=match.index;if(matchStart>lastIndex)newContent.appendChild(document.createTextNode(paragraph.textContent.slice(lastIndex,matchStart)));if(staticMap[staticValue]){newContent.appendChild(staticMap[staticValue]);hasReplacements=true;delete staticMap[staticValue]}else newContent.appendChild(document.createTextNode(match[0]));lastIndex=regex.lastIndex}if(lastIndex<paragraph.textContent.length)newContent.appendChild(document.createTextNode(paragraph.textContent.slice(lastIndex)));if(hasReplacements){paragraph.textContent="";paragraph.appendChild(newContent)}});Object.values(staticMap).forEach(el=>{el.style.display='none'})});
